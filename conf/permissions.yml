presence:
  "*":
    allow: false

record:
  "*":
    create: "user.data.role === 'server'"
    write: true
    read: true
    delete: "user.data.role === 'server'"
    listen: "user.data.role === 'server'"

  "userlocation/$uid":
    write: "user.data.uid === $uid"
    read: "user.data.uid === $uid || user.data.role === 'server'"

  "nearuser/$uid":
    write: "user.data.role === 'server'"
    read: "user.data.uid === $uid || user.data.role === 'server'"

  "object/*":
    write: "user.data.role === 'server'"

  "object/simple/$uid":
    read: "user.data.role === 'server' || _('nearuser/' + user.data.uid)[$uid]"

  "object/complete/$uid":
    read: "user.data.role === 'server' || ( _('nearuser/' + user.data.uid)[$uid] && _('permissions/' + user.data.uid)['paid'] )"

event:
  "*":
    publish: "user.data.role === 'server'"
    subscribe: true
    listen: "user.data.role === 'server'"

rpc:
  "*":
    provide: "user.data.role === 'server'"
    request: true
